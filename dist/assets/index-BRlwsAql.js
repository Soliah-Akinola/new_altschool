(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))E(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&E(h)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function E(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();const p=["assets/image-product-1.jpg","assets/image-product-2.jpg","assets/image-product-3.jpg","assets/image-product-4.jpg"],M=["assets/image-product-1-thumbnail.jpg","assets/image-product-2-thumbnail.jpg","assets/image-product-3-thumbnail.jpg","assets/image-product-4-thumbnail.jpg"],x={id:1,name:"Fall Limited Edition Sneakers",price:125,thumb:M[0]},n=(e,t=document)=>t.querySelector(e),v=(e,t=document)=>Array.from(t.querySelectorAll(e)),m=n(".drawer"),O=n(".header__menu-btn"),$=n(".drawer__close"),N=n(".drawer__backdrop");O?.addEventListener("click",()=>{m.removeAttribute("hidden"),m.setAttribute("aria-hidden","false"),document.body.classList.add("modal-open")});function _(){m.setAttribute("hidden",""),m.setAttribute("aria-hidden","true"),document.body.classList.remove("modal-open")}$?.addEventListener("click",_);N?.addEventListener("click",_);let c=0;const I=n("#mainImage"),g=n(".lightbox"),j=n("#lightboxImage");function l(e){c=(e+p.length)%p.length,I.src=p[c],j.src=p[c];for(const t of[document,g])v(".thumb",t).forEach(s=>s.classList.toggle("is-active",Number(s.dataset.index)===c))}v(".gallery .thumb").forEach(e=>e.addEventListener("click",()=>l(Number(e.dataset.index))));n(".gallery__nav--prev")?.addEventListener("click",()=>l(c-1));n(".gallery__nav--next")?.addEventListener("click",()=>l(c+1));function B(){window.matchMedia("(min-width: 901px)").matches&&(g.removeAttribute("hidden"),document.body.classList.add("modal-open"),m.setAttribute("hidden",""))}function L(){g.setAttribute("hidden",""),document.body.classList.remove("modal-open")}I.addEventListener("click",B);n(".lightbox__close")?.addEventListener("click",L);n(".lightbox")?.addEventListener("click",e=>{e.target===g&&L()});document.addEventListener("keydown",e=>{e.key==="Escape"&&(L(),_())});n(".lightbox__nav--prev")?.addEventListener("click",()=>l(c-1));n(".lightbox__nav--next")?.addEventListener("click",()=>l(c+1));v(".lightbox .thumb").forEach(e=>e.addEventListener("click",()=>l(Number(e.dataset.index))));const C=n("#qty"),F=n(".stepper__btn--minus"),P=n(".stepper__btn--plus");let a=0;const q=(e,t,s)=>Math.min(Math.max(e,t),s);function f(){C.value=String(a)}F.addEventListener("click",()=>{a=q(a-1,0,99),f()});P.addEventListener("click",()=>{a=q(a+1,0,99),f()});f();const d=n(".cart-btn"),u=n(".cart"),b=n(".cart-btn__badge"),k=n(".cart__empty"),A=n(".cart__filled"),S=n(".cart__list");let o=JSON.parse(localStorage.getItem("cart")||"[]");y();d.addEventListener("click",()=>{const e=d.getAttribute("aria-expanded")==="true";d.setAttribute("aria-expanded",String(!e)),u.toggleAttribute("hidden")});document.addEventListener("click",e=>{const t=e.target;u&&!u.contains(t)&&t!==d&&!d.contains(t)&&(u.setAttribute("hidden",""),d.setAttribute("aria-expanded","false"))});n(".add-to-cart")?.addEventListener("click",()=>{if(a===0)return;const e=o.find(t=>t.id===x.id);e?e.qty+=a:o.push({...x,qty:a}),a=0,f(),w(),y(),u.removeAttribute("hidden"),d.setAttribute("aria-expanded","true")});function y(){const e=o.reduce((t,s)=>t+s.qty,0);e>0?(b.hidden=!1,b.textContent=String(e),k.hidden=!0,A.hidden=!1,T()):(b.hidden=!0,A.hidden=!0,k.hidden=!1)}function T(){S.innerHTML="";for(const e of o){const t=document.createElement("li");t.className="cart__item",t.innerHTML=`
        <img class="cart__thumb" src="${e.thumb}" alt="">
        <div class="cart__meta">
          <div>${e.name}</div>
          <div>$${e.price.toFixed(2)} x ${e.qty} <span class="cart__total">$${(e.qty*e.price).toFixed(2)}</span></div>
        </div>
        <button class="cart__remove" aria-label="Remove">
          <svg class="icon"><use href="#icon-delete"/></svg>
        </button>
      `,t.querySelector(".cart__remove").addEventListener("click",()=>{o=o.filter(s=>s.id!==e.id),w(),y()}),S.appendChild(t)}}function w(){localStorage.setItem("cart",JSON.stringify(o))}l(0);
